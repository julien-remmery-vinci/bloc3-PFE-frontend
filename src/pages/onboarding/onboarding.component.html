<div class="onboarding-wrapper">
  <div class="onboarding-container">
    <h1>Vérifier l’éligibilité de mon entreprise</h1>

    <!-- Success Message -->
    <div *ngIf="submitted">
      <p class="success-message">
        {{ successMessage }}
      </p>
    </div>
    
    <div class="step-container">
      <h2>{{ steps[currentStep] }}</h2>

      <form [formGroup]="onboardingForm" (ngSubmit)="submit()">
        <ng-container [ngSwitch]="currentStep">
          <!-- Step 1: User Information -->
          <div *ngSwitchCase="0">
            <label for="firstname">Prénom</label>
            <input id="firstname" formControlName="firstname" type="text" placeholder="Prénom" />

            <label for="lastname">Nom</label>
            <input id="lastname" formControlName="lastname" type="text" placeholder="Nom" />

            <label for="email">E-mail</label>
            <input id="email" formControlName="email" type="email" placeholder="Adresse e-mail" />

            <label for="password">Mot de passe</label>
            <input id="password" formControlName="password" type="password" placeholder="Mot de passe" />

            <label for="position">Fonction</label>
            <input id="position" formControlName="position" type="text" placeholder="Fonction" />
          </div>

          <!-- Step 2: Company Information -->
          <div *ngSwitchCase="1">
            <label for="company_name">Nom de l'entreprise</label>
            <input id="company_name" formControlName="company_name" type="text" placeholder="Nom de l'entreprise" />

            <label for="company_number">Numéro d'entreprise</label>
            <input id="company_number" formControlName="company_number" type="text" placeholder="Numéro d'entreprise" />

            <label for="legal_form">Forme juridique</label>
            <input id="legal_form" formControlName="legal_form" type="text" placeholder="Forme juridique" />

            <label for="office_address">Adresse</label>
            <input id="office_address" formControlName="office_address" type="text" placeholder="Adresse" />

            <label for="website">Site Web</label>
            <input id="website" formControlName="website" type="url" placeholder="Site Web" />

            <label for="nace_code">Code NACE</label>
            <input id="nace_code" formControlName="nace_code" type="text" placeholder="Code NACE" />

            <label for="revenue">Chiffre d'affaires</label>
            <input id="revenue" formControlName="revenue" type="number" placeholder="Chiffre d'affaires" />
          </div>

          <!-- Step 3: Additional Information -->
          <div *ngSwitchCase="2">
            <div class="radio-group">
              <label>Franchise ?</label>
              <label><input type="radio" formControlName="franchise" value="true" /> Oui</label>
              <label><input type="radio" formControlName="franchise" value="false" /> Non</label>
            </div>

            <label for="nb_workers">Nombre de travailleurs</label>
            <input id="nb_workers" formControlName="nb_workers" type="number" placeholder="Nombre de travailleurs" />

            <div class="radio-group">
              <label>Litiges sociaux/environnementaux ?</label>
              <label><input type="radio" formControlName="dispute" value="true" /> Oui</label>
              <label><input type="radio" formControlName="dispute" value="false" /> Non</label>
            </div>

            <div class="radio-group">
              <label>Engagement honnête ?</label>
              <label><input type="radio" formControlName="honor_engagement" value="true" /> Oui</label>
              <label><input type="radio" formControlName="honor_engagement" value="false" /> Non</label>
            </div>

            <div class="radio-group">
              <label>Demande de subside ?</label>
              <label><input type="radio" formControlName="grant_application" value="true" /> Oui</label>
              <label><input type="radio" formControlName="grant_application" value="false" /> Non</label>
            </div>

            <label for="grant_application_partner">Partenaire pour subside</label>
            <input id="grant_application_partner" formControlName="grant_application_partner" type="text" placeholder="Partenaire" />

            <label for="something_else">Autres informations</label>
            <textarea id="something_else" formControlName="something_else" placeholder="Autres informations"></textarea>

            <label for="comment">Commentaires</label>
            <textarea id="comment" formControlName="comment" placeholder="Commentaires"></textarea>
          </div>
        </ng-container>

        <div class="navigation-buttons">
          <button type="button" (click)="previousStep()" [disabled]="currentStep === 0">Précédent</button>
          <button type="button" *ngIf="currentStep < steps.length - 1" (click)="nextStep()" [disabled]="!isCurrentStepValid()">
            Suivant
          </button>
          <button type="submit" *ngIf="currentStep === steps.length - 1" [disabled]="!onboardingForm.valid">
            Soumettre
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
